<!Doctype html>
<html>
  <head>
  <meta charset="utf-8">
  
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>CSS å˜é‡ | FE NOTEBOOK</title>
  
    <link rel="icon" href="/images/favico.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/style/gitalk.css">
  <link rel="stylesheet" href="/style/style.css">
  <script src="/js/gitalk.min.js"></script>
</head>
  <body>
    <header class="header">
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link">é¦–é¡µ</a>
        </li>
      
        <li class="menu-item">
          <a href="/archives" class="menu-item-link">å½’æ¡£</a>
        </li>
      
        <li class="menu-item">
          <a href="/2018/11/22/åŸºç¡€è€ƒé¢˜/" class="menu-item-link">ç»ƒä¸€å¥—</a>
        </li>
      
    </ul>
  </nav>
  <h1 class="pc">a[href=&#34;code.dsphoebe.com&#34;]{FE NOTEBOOK}</h1>
  <h1 class="mobile"><a href="/">FE NOTEBOOK ğŸš€</a></h1>
  <em>ã€Œ å›°ä½ä½ çš„ä»æ¥éƒ½æ˜¯ä½ è‡ªå·±ï¼ã€</em>
</header>
    <main class="main">
      <article class="post">
  <div class="post-title">
    <h2 class="title">CSS å˜é‡</h2>
  </div>
  <div class="post-meta">
    <span class="post-time">2018-11-25 17:29:12</span>
    <span class="post-tags">
      
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS-Custom-Properties/">CSS Custom Properties</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS-Variables/">CSS Variables</a></li></ul>
      
    </span>
    
  </div>
  <div class="post-content">
    <p><img src="https://i.imgur.com/a7sW8y2.gif" alt="alt"></p>
<p>CSS å˜é‡æ˜¯æŒ‡ç”± CSS å¼€å‘è€…å’Œç”¨æˆ·å®šä¹‰çš„å®ä½“ï¼Œè‡ªå®šä¹‰å±æ€§æ¥è®¾ç½®å˜é‡ï¼Œç„¶åç”¨ var() æ–¹æ³•æ¥è®¿é—®è¿™ä¸ªè‡ªå®šä¹‰å˜é‡ã€‚å®é™…ä¸Š CSS å˜é‡åˆå« CSS è‡ªå®šä¹‰å±æ€§ã€‚</p>
<p>åœ¨ä¹‹å‰ï¼ŒåŸç”Ÿ CSS æ˜¯æ²¡æœ‰å˜é‡çš„ï¼Œå¦‚æœå¤šä¸ªé€‰æ‹©å™¨ä½¿ç”¨åŒä¸€ä¸ªé¢œè‰²ï¼Œå°±å¾—æ¥å›åœ¨é€‰æ‹©å™¨ä¹‹é—´å¤šæ¬¡å¤åˆ¶ç²˜è´´ã€‚ç›´åˆ°åæ¥æœ‰äº† CSS é¢„ç¼–è¯‘å™¨ Lessã€Sassã€Stylus ç­‰æœ‰äº†å˜é‡ã€‚</p>
<p>ä½†ç°åœ¨æˆ‘ä»¬æœ‰äº† CSS å˜é‡å¹¶ä¸”ç°åœ¨å·²ç»<a href="https://www.w3.org/TR/css-variables-1/" target="_blank" rel="noopener">æ ‡å‡†åŒ–</a>äº†ï¼Œ<a href="https://www.neowin.net/news/css-custom-properties-are-coming-to-microsoft-edge-in-the-windows-10-creators-update" target="_blank" rel="noopener">IE çš„ Edge ä¹Ÿå°†å®ç°è¯¥æ ‡å‡†</a>ã€‚</p>
<h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><p>CSS å˜é‡ç”¨ <code>--*</code>å®šä¹‰å˜é‡ï¼Œç”¨<code>var(--*)</code>ä½¿ç”¨å˜é‡ï¼Œ<code>*</code>è¡¨ç¤ºå˜é‡åã€‚å› ä¸º Sass ç”¨äº† <code>$</code> è€Œ Less ç”¨äº† <code>@</code>ï¼Œä¸ºäº†ä¸äº§ç”Ÿå†²çªï¼ŒCSS å˜é‡ç”¨ <code>--</code> ä½œä¸ºå‰ç¼€ã€‚</p>
<p><strong>é¦–å…ˆå£°æ˜ä¸€ä¸ªå˜é‡</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attribute">--main-bg-color</span>: brown;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ <code>:root</code> æ˜¯ CSS ç»“æ„æ€§ä¼ªç±»ï¼Œå®ƒåŒ¹é…çš„æ˜¯æ–‡æ¡£æ ‘çš„æ ¹å…ƒç´ ï¼Œå¯¹ HTML æ¥è¯´å°±æ˜¯ <code>&lt;html&gt;</code>ã€‚ä¸è¿‡ <code>:root</code> çš„ä¼˜å…ˆçº§è¦æ¯” <code>html</code> é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§è¦é«˜ï¼Œå› ä¸ºä¼ªç±»é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§è¦é«˜äºå…ƒç´ é€‰æ‹©å™¨ä¼˜å…ˆçº§ã€‚åœ¨ JavaScript ä¸­ <code>:root</code> å¯¹åº” çš„æ˜¯ <code>document.documentElement</code>ã€‚</p>
<p><strong>ç„¶åä½¿ç”¨è¿™ä¸ªå˜é‡</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  background-color: <span class="keyword">var</span>(--main-bg-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹</p>
<p></p><p data-height="191" data-theme-id="light" data-slug-hash="EOLqNJ" data-default-tab="css,result" data-user="dsphoebe" data-pen-title="learn CSS variables" class="codepen">See the Pen <a href="https://codepen.io/dsphoebe/pen/EOLqNJ/" target="_blank" rel="noopener">learn CSS variables</a> by dsphoebe (<a href="https://codepen.io/dsphoebe" target="_blank" rel="noopener">@dsphoebe</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<h2 id="CSS-å˜é‡å‘½åè§„èŒƒ"><a href="#CSS-å˜é‡å‘½åè§„èŒƒ" class="headerlink" title="CSS å˜é‡å‘½åè§„èŒƒ"></a>CSS å˜é‡å‘½åè§„èŒƒ</h2><ul>
<li>å¤§å°å†™æ•æ„Ÿ</li>
<li>ä¸èƒ½åŒ…å«<code>$</code>ã€<code>[</code>ã€<code>^</code>ã€<code>(</code>ã€<code>%</code>ç­‰ç‰¹æ®Šå­—ç¬¦</li>
<li>æ”¯æŒæ•°å­—ï¼Œå­—æ¯ï¼Œä¸‹åˆ’çº¿ï¼Œæ¨ªçº¿</li>
<li>æ”¯æŒä¸­æ–‡ã€æ—¥æ–‡æˆ–è€…éŸ©æ–‡</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--color</span>: red;</span><br><span class="line">  <span class="attribute">--Color</span>: yellow; <span class="comment">/* å’Œä¸Šé¢çš„ --color æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ */</span></span><br><span class="line">  --$: 12px; /* æ— æ•ˆ */</span><br><span class="line">	<span class="selector-tag">--1</span>: <span class="selector-tag">blue</span>; <span class="comment">/* æ˜¯æœ‰æ•ˆçš„ */</span> </span><br><span class="line">  <span class="selector-tag">--main_color</span>: <span class="selector-tag">green</span>;</span><br><span class="line">  --ä¸­å›½: 'China'; /* æœ‰æ•ˆçš„ */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é€šè¿‡-var-ä½¿ç”¨-CSS-å˜é‡"><a href="#é€šè¿‡-var-ä½¿ç”¨-CSS-å˜é‡" class="headerlink" title="é€šè¿‡ var() ä½¿ç”¨ CSS å˜é‡"></a>é€šè¿‡ var() ä½¿ç”¨ CSS å˜é‡</h2><p>var() å‡½æ•°çš„è¯­æ³•æ˜¯<code>var[&lt;è‡ªå®šä¹‰å±æ€§&gt;[,&lt;è‡ªå®šä¹‰å±æ€§çš„é»˜è®¤å€¼&gt;]]</code> ï¼Œæ„æ€å°±æ˜¯å¦‚æœè‡ªå®šä¹‰å±æ€§ä¸å­˜åœ¨ï¼Œå°±ä¼šä½¿ç”¨è‡ªå®šä¹‰å±æ€§é»˜è®¤å€¼æ¥æ¸²æŸ“ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="comment">/*--main-bg-color: brown;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-bg-color, green);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™ div çš„èƒŒæ™¯é¢œè‰²å°±æ˜¯ç»¿è‰²çš„ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ‰¾åˆ° <code>--main-bg-color</code></p>
<p>var() å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥å¤šå±‚åµŒå¥—çš„ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  --bg1: red;</span><br><span class="line">  <span class="selector-tag">--bg2</span>: <span class="selector-tag">yellow</span>;</span><br><span class="line"><span class="comment">/*   --bg3: blue; */</span></span><br><span class="line"><span class="comment">/*  --bg4: dark;  */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--bg4, var(--bg3, var(--bg2))) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ div æ˜¾ç¤ºçš„é¢œè‰²å€¼æ˜¯é»„è‰²ï¼Œâ€“bg4 å’Œ â€“bg3 éƒ½ä¸å­˜åœ¨ï¼Œå°±ç”¨çš„ â€”bg3 çš„é»˜è®¤å€¼ â€“bg2 äº†ã€‚</p>
<p>var() å‡½æ•°è¿”å›å€¼åé¢ä¼šå¸¦ä¸€ä¸ªç©ºæ ¼</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--font-size</span>: <span class="number">12</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="built_in">var</span>(--font-size)<span class="built_in">px</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ div çš„ font-size ä¸ä¼šæ˜¯ 12pxï¼Œå› ä¸º var çš„è¿”å›å€¼åé¢ä¼šå¸¦ä¸€ä¸ªç©ºæ ¼ï¼Œdiv çš„ font-size å€¼ä¸º <code>12 px</code>ï¼Œæµè§ˆå™¨æ˜¯ä¸èƒ½è¯†åˆ«çš„ï¼Œæ˜¯æ— æ•ˆå­—å·ã€‚</p>
<p>æ­£ç¡®å†™æ³•åº”è¯¥æ˜¯ä¸‹é¢ä¸¤ç§ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼šå®šä¹‰çš„ CSS å˜é‡å°±å¸¦äº† px</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="built_in">var</span>(--font-size);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒç§ï¼šä½¿ç”¨ calc å‡½æ•°è®¡ç®—å¸¦ä¸Š px</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--font-size</span>: <span class="number">12</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="built_in">calc</span>(var(--font-size) * <span class="number">1px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¸¦å•ä½çš„ CSS å˜é‡ä¸èƒ½åŠ å¼•å·ï¼Œå¦åˆ™ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½è¯†åˆ«ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">	<span class="attribute">--height</span>: <span class="string">'100px'</span>;</span><br><span class="line">  <span class="attribute">--width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="built_in">var</span>(--height); <span class="comment">/* æ— æ•ˆ */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">var</span>(--width);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>div çš„é«˜åº¦ä¸ä¼šå¦‚æœŸæ˜¾ç¤ºä¸º CSS å˜é‡å®šä¹‰çš„ 100pxï¼Œä½†æ˜¯ width å´æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>var() å‡½æ•°ä¸èƒ½åµŒå¥— url() æ–¹æ³•ï¼Œurl æ–¹æ³•è¦æ”¾åˆ° CSS å˜é‡é‡Œé¢ã€‚è€Œä¸”éœ€è¦æ˜¯ç»å¯¹åœ°å€ï¼Ÿ</p>
<h2 id="CSS-å˜é‡çš„ä½œç”¨åŸŸ"><a href="#CSS-å˜é‡çš„ä½œç”¨åŸŸ" class="headerlink" title="CSS å˜é‡çš„ä½œç”¨åŸŸ"></a>CSS å˜é‡çš„ä½œç”¨åŸŸ</h2><p>CSS é¢„å¤„ç†å™¨çš„å˜é‡æ˜¯é™æ€çš„ï¼Œè¯­æ³•ä½œç”¨åŸŸæ˜¯é™åˆ¶åœ¨è°ƒç”¨è¯¥å˜é‡çš„å½“å‰é¢„å¤„ç†å™¨æ–‡ä»¶ä¸­ã€‚è€ŒåŸç”Ÿ CSS å˜é‡æ˜¯è‡ªå®šä¹‰å±æ€§ï¼Œä¸æ™®é€š CSS å±æ€§ä¸€æ ·ï¼Œä½œç”¨åŸŸæ˜¯ DOMï¼Œæ˜¯èƒ½ç»§æ‰¿æˆ–è€…è¦†ç›–çˆ¶çº§æˆ–è€…ç¥–å…ˆçº§å…ƒç´ çš„åŒç±»å±æ€§å€¼çš„ã€‚</p>
<blockquote>
<p>åœ¨ CSS ä¸­ï¼Œä¸€ä¸ªå…ƒç´ çš„å®é™…å±æ€§æ˜¯ç”±å…¶è‡ªèº«å±æ€§ä»¥åŠå…¶ç¥–å…ˆå…ƒç´ çš„å±æ€§å±‚å å¾—åˆ°çš„ï¼ŒCSS å˜é‡ä¹Ÿæ”¯æŒå±‚å çš„ç‰¹æ€§ï¼Œå½“ä¸€ä¸ªå±æ€§æ²¡æœ‰åœ¨å½“å‰å…ƒç´ å®šä¹‰ï¼Œåˆ™ä¼šè½¬è€Œä½¿ç”¨å…¶ç¥–å…ˆå…ƒç´ çš„å±æ€§ã€‚åœ¨å½“å‰å…ƒç´ å®šä¹‰çš„å±æ€§ï¼Œå°†ä¼šè¦†ç›–ç¥–å…ˆå…ƒç´ çš„åŒåå±æ€§ã€‚</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attribute">--main-bg-color</span>: brown;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">--main-bg-color</span>: red;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-bg-color); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p></p><p data-height="249" data-theme-id="light" data-slug-hash="EOLqeY" data-default-tab="css,result" data-user="dsphoebe" data-pen-title="Inherit CSS variables" class="codepen">See the Pen <a href="https://codepen.io/dsphoebe/pen/EOLqeY/" target="_blank" rel="noopener">Inherit CSS variables</a> by dsphoebe (<a href="https://codepen.io/dsphoebe" target="_blank" rel="noopener">@dsphoebe</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<p>æˆ‘ä»¬é™¤äº†åœ¨ <code>:root</code> é‡Œé¢å®šä¹‰äº†ä¸€ä¸ª <code>--main-bg-color</code> ä¹‹å¤–ï¼Œåœ¨ <code>div</code>é‡Œé¢ä¹Ÿå®šä¹‰äº†ä¸€ä¸ª <code>--main-bg-color</code>ï¼Œç†æ‰€å½“ç„¶ å½“æˆ‘ä»¬åœ¨ <code>div</code> é‡Œé¢ä½¿ç”¨è¿™ä¸ªè¿™ä¸ª CSS å±æ€§çš„æ—¶å€™ <code>:root</code> ä¸‹çš„ <code>--main-bg-color</code> ä¼šè¢« <code>div</code> ä¸‹å®šä¹‰çš„ <code>--main-bg-color</code> è¦†ç›–çš„ã€‚è¿™é‡Œçš„ <code>:root</code> æ˜¯ CSS å˜é‡çš„æœ€å¤§ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚</p>
<h2 id="HTML-çš„-style-å±æ€§ä¸­ä½¿ç”¨"><a href="#HTML-çš„-style-å±æ€§ä¸­ä½¿ç”¨" class="headerlink" title="HTML çš„ style å±æ€§ä¸­ä½¿ç”¨"></a>HTML çš„ style å±æ€§ä¸­ä½¿ç”¨</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>çº¢è‰²çš„äº†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"--color:yellow;"</span>&gt;</span>é»„è‰²çš„å•Š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¸-JavaScript-çš„äº¤äº’"><a href="#ä¸-JavaScript-çš„äº¤äº’" class="headerlink" title="ä¸ JavaScript çš„äº¤äº’"></a>ä¸ JavaScript çš„äº¤äº’</h2><p>JavaScript è®¿é—® CSS å˜é‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">element.style.getPropertyValue(<span class="string">'--color'</span>);</span><br></pre></td></tr></table></figure>
<p>è·å–å…¨å±€ CSS å˜é‡ï¼Œé€šè¿‡ <code>document.documentElement</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> rootStyle = getComputedStyle(<span class="built_in">document</span>.documentElement);</span><br><span class="line"><span class="keyword">var</span> cssVariable = root.getPropertyValue(<span class="string">'--color'</span>).trim();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cssVariable) <span class="comment">// 'red'</span></span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ CSS å˜é‡çš„å€¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.documentElement.style.setProperty(<span class="string">'--color'</span>, <span class="string">'black'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="æµè§ˆå™¨æ”¯æŒæƒ…å†µ"><a href="#æµè§ˆå™¨æ”¯æŒæƒ…å†µ" class="headerlink" title="æµè§ˆå™¨æ”¯æŒæƒ…å†µ"></a>æµè§ˆå™¨æ”¯æŒæƒ…å†µ</h2><p><img src="/images/css-variables/caniuse.png" alt="caniuse"></p>
<p><code>@support</code> æ£€æµ‹ CSS æ˜¯å¦æ”¯æŒ CSS å˜é‡</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">supports</span> ((--css: <span class="string">'variables'</span>)) &#123;</span><br><span class="line">  <span class="comment">/* å·²ç»æ”¯æŒäº† */</span></span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">supports</span> (not (--css: <span class="string">'variables'</span>)) &#123;</span><br><span class="line">  <span class="comment">/* ä¸æ”¯æŒå•Š */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JavaScript æ£€æµ‹æ˜¯å¦æ”¯æŒ CSS å˜é‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.CSS &amp;&amp; <span class="built_in">window</span>.CSS.supports &amp;&amp; <span class="built_in">window</span>.CSS.supports(<span class="string">'--css'</span>, <span class="string">'variables'</span>)) &#123;</span><br><span class="line">  alert(<span class="string">'å·²ç»æ”¯æŒäº†'</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  alert(<span class="string">'ä¸æ”¯æŒå•Š'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºè€ç‰ˆæœ¬çš„æµè§ˆå™¨æ²¡æœ‰ <code>CSS.supports()</code> æ–¹æ³•çš„ï¼Œå¯ä»¥ç”¨<a href="https://gist.github.com/wesbos/8b9a22adc1f60336a699" target="_blank" rel="noopener">è¿™ä¸ªæ–¹æ³•</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testCSSVariables</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> color = <span class="string">'rgb(255,198,0)'</span>;</span><br><span class="line">  <span class="keyword">var</span> el = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">  </span><br><span class="line">  el.style.setProperty(<span class="string">'--color'</span>, color);</span><br><span class="line">  el.style.setProperty(<span class="string">'background'</span>, <span class="string">'var(--color)'</span>);</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(el);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> styles = getComputedStyle(el);</span><br><span class="line">  <span class="keyword">var</span> doesSupport = styles.backgroundColor === color;</span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(el);</span><br><span class="line">  <span class="keyword">return</span> doesSupport;</span><br><span class="line">&#125;</span><br><span class="line">testCSSVariables();</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‹ä¸€ç¯‡ï¼šHoudini"><a href="#ä¸‹ä¸€ç¯‡ï¼šHoudini" class="headerlink" title="ä¸‹ä¸€ç¯‡ï¼šHoudini"></a>ä¸‹ä¸€ç¯‡ï¼šHoudini</h2><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="http://www.ruanyifeng.com/blog/2017/05/css-variables.html" target="_blank" rel="noopener">CSS å˜é‡æ•™ç¨‹</a><br><a href="https://www.zhangxinxu.com/wordpress/2016/11/css-css3-variables-var/" target="_blank" rel="noopener">å°tips:äº†è§£CSS/CSS3åŸç”Ÿå˜é‡var</a></p>

  </div>
  
    <div id="gitalk-container"></div>
    <script>
      var gitalk = new Gitalk({
        clientID: 'ef15f4504260877defa7',
        clientSecret: 'fec978ac841d76e9177c1a8cadd5092de489dc0e',
        repo: 'blog',
        owner: 'dsphoebe',
        admin: ['dsphoebe'],
        id: '2018-11-25 17:29:12',
        title: document.title.slice(0, -14),
        enableHotKey: true
      })
      gitalk.render('gitalk-container')
    </script>
  
</article>
    </main>
    <footer>
  <p>&copy; 2018 dsphoebe.com <wbr> <a href="http://www.miitbeian.gov.cn/">äº¬ICPå¤‡15048606å·-1</a></p>
</footer>
  </body>
</html>
