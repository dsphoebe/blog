---
title: 二分搜索
tags: [二分搜索,领扣,两数相除]
category: [算法]
---

## 二分搜索

- 二分搜索是将目标值与有序的数组的中间元素进行比较
- 如果目标值大于或者小于中间元素，那么就在数组大于或者小于中间元素的那一半中查找，而且跟开始一样从中间元素开始比较。如果某一步骤数组为空，则代表找不到
- 这种搜索算法每一次比较都使搜索范围缩小到一半
- 是排序数组中搜索的最快的方法

## 二分搜索模版

```js
function binarySearch(array, target) {
  if (array === null || array.length === 0) {
    return -1
  }
  
  let start = 0
  let end = array.length - 1
  
  // 使用迭代而不是递归进行二分查找，因为工程中递归写法存在潜在溢出的可能
  // 循环终止条件是相邻或相交元素时退出。配合while终止条件start + 1 < end（相邻即退出）的赋值语句mid永远没有+1或者-1，这样不会死循环。
  while (start + 1 < end) {
    // 防止两个整型值相加时溢出
    let mid = start + (end - start) / 2
    if (target < array[mid]) {
      end = mid
    } else if (target > array[mid]) {
      start = mid
    } else {
      end = mid
    }
  }
  
  if (array[start] == target) {
    return start
  }
  if (array[end] == target) {
    return end
  }
  
  return -1;
}
```

## 二分搜索的时间复杂度

- 二分搜索 T(n) = T(n/2) + m
- a = 1, b = 2, c = 0, log<sub>b</sub>a = c = 0
- 符合主定理的第二种情况：T(n) = n<sup>c</sup>logn = logn

## 二分法规律总结

### 理解二分法的三个层次

1. 头尾指针，取中点，判断往哪儿走
2. 寻找满足某个条件的第一个或者最后一个位置
3. 保留剩下来一定有解的那一半

### 二分法模版的四要素

- start + 1 < end
- start + (end - start) / 2
- nums[mid] ==, <, >
- nums[start] num[end] 与 target 的关系

## 题目：[278. 第一个错误的版本](https://leetcode-cn.com/problems/first-bad-version/)

```js
var firstBadVersion(isBadVersion) {
  return function(n) {
    if (n === 0) {
      return -1
    }

    var start = 1, end = n;

    while (start + 1 < end) {
      var mid = start + (end - start) / 2
      if (isBadVersion(mid) === false) {
        start = mid;
      } else {
        end = mid;
      }
    }

    if (isBadVersion(start) === true) {
      return start
    }

    if (isBadVersion(end) === true) {
      return end
    }

    return -1;
  }
}
```



## 题目：[35. 搜索插入位置](https://leetcode-cn.com/problems/search-insert-position/)

## 题目：[74. 搜索二维矩阵](https://leetcode-cn.com/problems/search-a-2d-matrix/)

## 题目：[81. 搜索旋转排序数组 II](https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/)

## 题目：[69. x 的平方根](https://leetcode-cn.com/problems/sqrtx/)

## 题目：[29. 两数相除](https://leetcode-cn.com/problems/divide-two-integers/description/)

给定两个整数，被除数 dividend 和除数 divisor。将两数相除，要求不使用乘法、除法和 mod 运算符。返回被除数 dividend 除以除数 divisor 得到的商。

```js
var divide = function(dividend, divisor) {
    var MAX_INT = Math.pow(2, 31) - 1,
        MIN_INT = -Math.pow(2, 31),
        result = 0,
        newDividend = Math.abs(dividend),
        newDivisor = Math.abs(divisor),
        flag;
    if (newDividend < newDivisor) {
        return 0;
    }
    if (dividend >= 0 && divisor > 0 || dividend <= 0 && divisor < 0) {
        flag = 1;
    } else {
        flag = -1;
    }
    while (newDividend >= newDivisor) {
        var temp = newDivisor,
            i = 0;
        while (newDividend >= temp << 1) {
            if ((temp << 1) <= 0) {
                break;
            }
            temp = temp << 1;
            i++;
            if (flag > 0 && i > 29) {
                return MAX_INT;
            }
            if (flag < 0 && i > 30) {
                return MIN_INT;
            }
        }
        newDividend -= temp;
        result += Math.pow(2, i);
    }
    if (flag > 0) {
        return result;
    } else {
        return -result;
    }
};
```

## 题目：[153. 寻找旋转排序数组中的最小值](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/)